*Representativeness of size/industry by countries

*Countries
tab Country_ISO_Code

/* Country_ISO |
      _Code |      Freq.     Percent        Cum.
------------+-----------------------------------
         DE |     85,117       10.60       10.60
         ES |     87,786       10.93       21.53
         FR |     77,275        9.62       31.15
         GB |     28,616        3.56       34.71
         IT |    346,957       43.20       77.90
         PL |     23,876        2.97       80.88
         PT |     41,172        5.13       86.00
         RO |     63,089        7.85       93.86
         SE |     49,339        6.14      100.00
------------+-----------------------------------
      Total |    803,227      100.00           */
	  

*Size  
gen size="."
replace size="micro" if Number_of_employees_2014<10
replace size="small" if Number_of_employees_2014>=10 & Number_of_employees_2014<50
replace size="medium" if Number_of_employees_2014>=50 & Number_of_employees_2014<250
replace size="large" if Number_of_employees_2014>=250 
replace size="." if Number_of_employees_2014==.

tab size Country, col


/*         
           |              Country_ISO_Code
      size |        DE         ES         FR         GB |     Total
-----------+--------------------------------------------+----------
         . |    14,835     19,309     48,507     19,084 |   246,012 
           |     17.43      22.00      62.77      66.69 |     30.63 
-----------+--------------------------------------------+----------
     large |     2,387        392        578      1,568 |     6,953 
           |      2.80       0.45       0.75       5.48 |      0.87 
-----------+--------------------------------------------+----------
    medium |    10,463      3,534      3,413      5,181 |    36,179 
           |     12.29       4.03       4.42      18.11 |      4.50 
-----------+--------------------------------------------+----------
     micro |    27,741     46,161     15,909        874 |   387,804 
           |     32.59      52.58      20.59       3.05 |     48.28 
-----------+--------------------------------------------+----------
     small |    29,691     18,390      8,868      1,909 |   126,279 
           |     34.88      20.95      11.48       6.67 |     15.72 
-----------+--------------------------------------------+----------
     Total |    85,117     87,786     77,275     28,616 |   803,227 
           |    100.00     100.00     100.00     100.00 |    100.00 


           |              Country_ISO_Code
      size |        IT         PL         PT         RO |     Total
-----------+--------------------------------------------+----------
         . |    83,462     21,257      5,818      9,296 |   246,012 
           |     24.06      89.03      14.13      14.73 |     30.63 
-----------+--------------------------------------------+----------
     large |       676        191        226        651 |     6,953 
           |      0.19       0.80       0.55       1.03 |      0.87 
-----------+--------------------------------------------+----------
    medium |     7,324        436      1,914      2,928 |    36,179 
           |      2.11       1.83       4.65       4.64 |      4.50 
-----------+--------------------------------------------+----------
     micro |   209,620      1,802     24,371     41,156 |   387,804 
           |     60.42       7.55      59.19      65.23 |     48.28 
-----------+--------------------------------------------+----------
     small |    45,875        190      8,843      9,058 |   126,279 
           |     13.22       0.80      21.48      14.36 |     15.72 
-----------+--------------------------------------------+----------
     Total |   346,957     23,876     41,172     63,089 |   803,227 
           |    100.00     100.00     100.00     100.00 |    100.00 


           | Country_IS
           |   O_Code
      size |        SE |     Total
-----------+-----------+----------
         . |    24,444 |   246,012 
           |     49.54 |     30.63 
-----------+-----------+----------
     large |       284 |     6,953 
           |      0.58 |      0.87 
-----------+-----------+----------
    medium |       986 |    36,179 
           |      2.00 |      4.50 
-----------+-----------+----------
     micro |    20,170 |   387,804 
           |     40.88 |     48.28 
-----------+-----------+----------
     small |     3,455 |   126,279 
           |      7.00 |     15.72 
-----------+-----------+----------
     Total |    49,339 |   803,227 
           |    100.00 |    100.00 

*/
		   
tab size Country if size!=".", col

/*

           |              Country_ISO_Code
      size |        DE         ES         FR         GB |     Total
-----------+--------------------------------------------+----------
     large |     2,387        392        578      1,568 |     6,953 
           |      3.40       0.57       2.01      16.45 |      1.25 
-----------+--------------------------------------------+----------
    medium |    10,463      3,534      3,413      5,181 |    36,179 
           |     14.89       5.16      11.86      54.35 |      6.49 
-----------+--------------------------------------------+----------
     micro |    27,741     46,161     15,909        874 |   387,804 
           |     39.47      67.41      55.30       9.17 |     69.60 
-----------+--------------------------------------------+----------
     small |    29,691     18,390      8,868      1,909 |   126,279 
           |     42.25      26.86      30.83      20.03 |     22.66 
-----------+--------------------------------------------+----------
     Total |    70,282     68,477     28,768      9,532 |   557,215 
           |    100.00     100.00     100.00     100.00 |    100.00 


           |              Country_ISO_Code
      size |        IT         PL         PT         RO |     Total
-----------+--------------------------------------------+----------
     large |       676        191        226        651 |     6,953 
           |      0.26       7.29       0.64       1.21 |      1.25 
-----------+--------------------------------------------+----------
    medium |     7,324        436      1,914      2,928 |    36,179 
           |      2.78      16.65       5.41       5.44 |      6.49 
-----------+--------------------------------------------+----------
     micro |   209,620      1,802     24,371     41,156 |   387,804 
           |     79.55      68.80      68.93      76.51 |     69.60 
-----------+--------------------------------------------+----------
     small |    45,875        190      8,843      9,058 |   126,279 
           |     17.41       7.25      25.01      16.84 |     22.66 
-----------+--------------------------------------------+----------
     Total |   263,495      2,619     35,354     53,793 |   557,215 
           |    100.00     100.00     100.00     100.00 |    100.00 


           | Country_IS
           |   O_Code
      size |        SE |     Total
-----------+-----------+----------
     large |       284 |     6,953 
           |      1.14 |      1.25 
-----------+-----------+----------
    medium |       986 |    36,179 
           |      3.96 |      6.49 
-----------+-----------+----------
     micro |    20,170 |   387,804 
           |     81.02 |     69.60 
-----------+-----------+----------
     small |     3,455 |   126,279 
           |     13.88 |     22.66 
-----------+-----------+----------
     Total |    24,895 |   557,215 
           |    100.00 |    100.00 

 */
egen group = group(size) if size!="."
su group, meanonly
tab group

*Germany
forvalues i = 1/4 { 
	egen sum_size_`i'_ge = sum(Number_of_employees_2014) if group == `i' & Country=="DE"
	summarize sum_size_`i'_ge, meanonly
	scalar mean_`i'_ge = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_ge =  mean_`i'_ge/(mean_1_ge + mean_2_ge + mean_3_ge + mean_4_ge) 
	di percent_`i'_ge*100
	}
}

*Spain
forvalues i = 1/4 { 
	egen sum_size_`i'_es = sum(Number_of_employees_2014) if group == `i' & Country=="ES"
	summarize sum_size_`i'_es, meanonly
	scalar mean_`i'_es = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_es =  mean_`i'_es/(mean_1_es + mean_2_es + mean_3_es + mean_4_es) 
	di percent_`i'_es*100
	}
}

*France 
forvalues i = 1/4 { 
	egen sum_size_`i'_fr = sum(Number_of_employees_2014) if group == `i' & Country=="FR"
	summarize sum_size_`i'_fr, meanonly
	scalar mean_`i'_fr = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_fr =  mean_`i'_fr/(mean_1_fr + mean_2_fr + mean_3_fr + mean_4_fr) 
	di percent_`i'_fr*100
	}
}

*Great Britain
forvalues i = 1/4 { 
	egen sum_size_`i'_gb = sum(Number_of_employees_2014) if group == `i' & Country=="GB"
	summarize sum_size_`i'_gb, meanonly
	scalar mean_`i'_gb = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_gb =  mean_`i'_gb/(mean_1_gb + mean_2_gb + mean_3_gb + mean_4_gb) 
	di percent_`i'_gb*100
	}
}

*Italy
forvalues i = 1/4 { 
	egen sum_size_`i'_it = sum(Number_of_employees_2014) if group == `i' & Country=="IT"
	summarize sum_size_`i'_it, meanonly
	scalar mean_`i'_it = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_it =  mean_`i'_it/(mean_1_it + mean_2_it + mean_3_it + mean_4_it) 
	di percent_`i'_it*100
	}
}

*Poland
forvalues i = 1/4 { 
	egen sum_size_`i'_pl = sum(Number_of_employees_2014) if group == `i' & Country=="PL"
	summarize sum_size_`i'_pl, meanonly
	scalar mean_`i'_pl = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_pl =  mean_`i'_pl/(mean_1_pl + mean_2_pl + mean_3_pl + mean_4_pl) 
	di percent_`i'_pl*100
	}
}

*Portugal
forvalues i = 1/4 { 
	egen sum_size_`i'_pt = sum(Number_of_employees_2014) if group == `i' & Country=="PT"
	summarize sum_size_`i'_pt, meanonly
	scalar mean_`i'_pt = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_pt =  mean_`i'_pt/(mean_1_pt + mean_2_pt + mean_3_pt + mean_4_pt) 
	di percent_`i'_pt*100
	}
}

*Romania
forvalues i = 1/4 { 
	egen sum_size_`i'_ro = sum(Number_of_employees_2014) if group == `i' & Country=="RO"
	summarize sum_size_`i'_ro, meanonly
	scalar mean_`i'_ro = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_ro =  mean_`i'_ro/(mean_1_ro + mean_2_ro + mean_3_ro + mean_4_ro) 
	di percent_`i'_ro*100
	}
}

*Sweden
forvalues i = 1/4 { 
	egen sum_size_`i'_sw = sum(Number_of_employees_2014) if group == `i' & Country=="SE"
	summarize sum_size_`i'_sw, meanonly
	scalar mean_`i'_sw = r(mean)
}

forvalues i = 1/4 { 
	if group == 1 | group == 2 | group==3 | group==4 {
	scalar percent_`i'_sw =  mean_`i'_sw/(mean_1_sw + mean_2_sw + mean_3_sw + mean_4_sw) 
	di percent_`i'_sw*100
	}
}

drop group sum_size_1_ge sum_size_2_ge sum_size_3_ge sum_size_1_es sum_size_4_ge sum_size_2_es sum_size_3_es sum_size_4_es sum_size_1_fr sum_size_2_fr sum_size_3_fr sum_size_4_fr sum_size_1_gb sum_size_2_gb sum_size_3_gb sum_size_4_gb sum_size_1_it sum_size_2_it sum_size_3_it sum_size_4_it sum_size_1_pl sum_size_3_pl sum_size_2_pl sum_size_4_pl sum_size_1_pt sum_size_2_pt sum_size_3_pt sum_size_4_pt sum_size_1_ro sum_size_2_ro sum_size_3_ro sum_size_4_ro sum_size_1_sw sum_size_2_sw sum_size_3_sw sum_size_4_sw

*Industry

destring NACE_Rev__2_Core_code__4_digits_, replace
gen nace2digits=NACE_Rev__2_Core_code__4_digits_/100
replace  nace2digits=floor(nace2digits)

tab nace2digits Country, col

/*
nace2digit |                                          Country_ISO_Code
         s |        DE         ES         FR         GB         IT         PL         PT         RO         SE |     Total
-----------+---------------------------------------------------------------------------------------------------+----------
        10 |     5,533     11,495     17,619      1,930     38,355      2,942      5,743     10,983      3,395 |    97,995 
           |      6.65      13.19      23.65       7.41      11.12      12.56      13.96      17.43       7.08 |     12.39 
-----------+---------------------------------------------------------------------------------------------------+----------
        11 |       964      3,106      1,331        424      2,683        278      1,058      1,022        438 |    11,304 
           |      1.16       3.57       1.79       1.63       0.78       1.19       2.57       1.62       0.91 |      1.43 
-----------+---------------------------------------------------------------------------------------------------+----------
        12 |        20         22          1         24         31         25          3         16         21 |       163 
           |      0.02       0.03       0.00       0.09       0.01       0.11       0.01       0.03       0.04 |      0.02 
-----------+---------------------------------------------------------------------------------------------------+----------
        13 |     1,619      2,827      1,468        590     11,397        576      1,982      1,733      1,956 |    24,148 
           |      1.95       3.24       1.97       2.27       3.31       2.46       4.82       2.75       4.08 |      3.05 
-----------+---------------------------------------------------------------------------------------------------+----------
        14 |       794      2,670      1,667        660     35,301        651      4,532      6,230      1,900 |    54,405 
           |      0.95       3.06       2.24       2.53      10.24       2.78      11.02       9.89       3.96 |      6.88 
-----------+---------------------------------------------------------------------------------------------------+----------
        15 |       353      2,476        590        127     16,377        164      2,274      1,895        463 |    24,719 
           |      0.42       2.84       0.79       0.49       4.75       0.70       5.53       3.01       0.97 |      3.12 
-----------+---------------------------------------------------------------------------------------------------+----------
        16 |     4,207      4,561      3,073        597     20,696      1,189      2,711      6,773      4,702 |    48,509 
           |      5.06       5.24       4.12       2.29       6.00       5.08       6.59      10.75       9.81 |      6.13 
-----------+---------------------------------------------------------------------------------------------------+----------
        17 |     1,060      1,226        820        471      3,323        651        409        953        305 |     9,218 
           |      1.27       1.41       1.10       1.81       0.96       2.78       0.99       1.51       0.64 |      1.17 
-----------+---------------------------------------------------------------------------------------------------+----------
        18 |     4,979      6,423      4,589      1,484     11,704        877      1,933      2,468      2,640 |    37,097 
           |      5.98       7.37       6.16       5.70       3.39       3.75       4.70       3.92       5.51 |      4.69 
-----------+---------------------------------------------------------------------------------------------------+----------
        19 |        97         17         36         68        314         91         21         65         33 |       742 
           |      0.12       0.02       0.05       0.26       0.09       0.39       0.05       0.10       0.07 |      0.09 
-----------+---------------------------------------------------------------------------------------------------+----------
        20 |     2,274      2,899      1,629        959      4,704      1,015        721      1,167        666 |    16,034 
           |      2.73       3.33       2.19       3.68       1.36       4.33       1.75       1.85       1.39 |      2.03 
-----------+---------------------------------------------------------------------------------------------------+----------
        21 |       559        338        246        419        595        209        157        189        167 |     2,879 
           |      0.67       0.39       0.33       1.61       0.17       0.89       0.38       0.30       0.35 |      0.36 
-----------+---------------------------------------------------------------------------------------------------+----------
        22 |     4,318      3,112      2,527      1,148      8,921      1,965      1,003      3,401      1,259 |    27,654 
           |      5.19       3.57       3.39       4.41       2.59       8.39       2.44       5.40       2.63 |      3.50 
-----------+---------------------------------------------------------------------------------------------------+----------
        23 |     3,841      4,891      2,672        501     16,610      1,275      2,508      3,203      1,770 |    37,271 
           |      4.62       5.61       3.59       1.92       4.82       5.44       6.10       5.08       3.69 |      4.71 
-----------+---------------------------------------------------------------------------------------------------+----------
        24 |     1,660      1,573        635        495      2,764        445        285        479        331 |     8,667 
           |      1.99       1.81       0.85       1.90       0.80       1.90       0.69       0.76       0.69 |      1.10 
-----------+---------------------------------------------------------------------------------------------------+----------
        25 |    17,889     16,395     11,598      3,033     64,530      3,784      6,883      7,639      9,368 |   141,119 
           |     21.50      18.82      15.57      11.65      18.71      16.16      16.73      12.13      19.54 |     17.84 
-----------+---------------------------------------------------------------------------------------------------+----------
        26 |     5,252      1,391      1,664      1,338      7,252        728        263      1,015      1,434 |    20,337 
           |      6.31       1.60       2.23       5.14       2.10       3.11       0.64       1.61       2.99 |      2.57 
-----------+---------------------------------------------------------------------------------------------------+----------
        27 |     3,642      1,572      1,378      1,028      8,949        732        550        737        803 |    19,391 
           |      4.38       1.80       1.85       3.95       2.60       3.13       1.34       1.17       1.67 |      2.45 
-----------+---------------------------------------------------------------------------------------------------+----------
        28 |    10,941      4,997      3,382      1,796     21,419      1,529      1,241      1,477      2,523 |    49,305 
           |     13.15       5.74       4.54       6.90       6.21       6.53       3.02       2.34       5.26 |      6.23 
-----------+---------------------------------------------------------------------------------------------------+----------
        29 |     1,347      1,289      1,139        540      2,478        513        447        529        896 |     9,178 
           |      1.62       1.48       1.53       2.07       0.72       2.19       1.09       0.84       1.87 |      1.16 
-----------+---------------------------------------------------------------------------------------------------+----------
        30 |       787        516        490        525      3,917        328        205        621        820 |     8,209 
           |      0.95       0.59       0.66       2.02       1.14       1.40       0.50       0.99       1.71 |      1.04 
-----------+---------------------------------------------------------------------------------------------------+----------
        31 |     2,061      4,693      2,109        841     14,607        999      2,401      4,691      2,140 |    34,542 
           |      2.48       5.39       2.83       3.23       4.24       4.27       5.84       7.45       4.46 |      4.37 
-----------+---------------------------------------------------------------------------------------------------+----------
        32 |     5,690      2,556      4,264      3,657     25,158        603      1,473      2,970      4,016 |    50,387 
           |      6.84       2.93       5.72      14.04       7.30       2.58       3.58       4.71       8.37 |      6.37 
-----------+---------------------------------------------------------------------------------------------------+----------
        33 |     3,334      6,074      9,585      3,385     22,748      1,847      2,330      2,743      5,908 |    57,954 
           |      4.01       6.97      12.86      13.00       6.60       7.89       5.66       4.35      12.32 |      7.32 
-----------+---------------------------------------------------------------------------------------------------+----------
     Total |    83,221     87,119     74,512     26,040    344,833     23,416     41,133     62,999     47,954 |   791,227 
           |    100.00     100.00     100.00     100.00     100.00     100.00     100.00     100.00     100.00 |    100.00 


*/

tab nace2digits if Country=="DE" & nace2digits!=.
tab nace2digits if Country=="ES" & nace2digits!=.
tab nace2digits if Country=="FR" & nace2digits!=.
tab nace2digits if Country=="IT" & nace2digits!=.
tab nace2digits if Country=="PL" & nace2digits!=.
tab nace2digits if Country=="PT" & nace2digits!=.
tab nace2digits if Country=="RO" & nace2digits!=.
tab nace2digits if Country=="SE" & nace2digits!=.
tab nace2digits if Country=="GB" & nace2digits!=.
